import{d as B,r as _,b as f,e as D,c as I,a as v,f as e,t as y,w as t,g as l,h,E as n,o as L,_ as N}from"./index-C0iuO9-9.js";const E={class:"clash-view-container"},F={class:"title"},M={class:"url-text-box"},T=B({__name:"ClashView",setup(q){const g=_("Clash view"),s=f({url:""}),x=f({url:[{required:!0,message:"请输入url"}]}),i=_(null),c=localStorage.getItem("clashUrl"),a=_("");D(()=>{c&&(a.value=c)});const w=async()=>{try{await navigator.clipboard.writeText(a.value),n({message:"URL 已复制到剪贴板",type:"success"})}catch{n({message:"复制失败，请手动复制",type:"error"})}},b=r=>{r&&r.validate((o,u)=>{o?(localStorage.setItem("clashUrl",s.url),c?(a.value=s.url,s.url="",n({message:"URL 更新成功",type:"success"})):n({message:"URL 更新失败",type:"error"})):console.log("error submit!",u)})};return(r,o)=>{const u=l("el-text"),C=l("CopyDocument"),U=l("el-icon"),p=l("el-col"),V=l("el-input"),m=l("el-form-item"),k=l("el-button"),R=l("el-form"),S=l("el-row");return L(),I("div",E,[v("h1",F,y(g.value),1),e(S,{class:"clash-url-box"},{default:t(()=>[e(p,{span:24},{default:t(()=>[v("div",M,[e(u,{class:"mx-1 url-text",type:"primary"},{default:t(()=>[h(y(a.value),1)]),_:1}),e(U,{class:"copy-icon",size:"small",color:"#409eff",onClick:w},{default:t(()=>[e(C)]),_:1})])]),_:1}),e(p,{span:24},{default:t(()=>[e(R,{ref_key:"rulesFormRef",ref:i,model:s,"label-width":"auto",rules:x},{default:t(()=>[e(m,{label:"clash url",prop:"url"},{default:t(()=>[e(V,{modelValue:s.url,"onUpdate:modelValue":o[0]||(o[0]=d=>s.url=d),placeholder:"please input clash url"},null,8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(k,{type:"primary",onClick:o[1]||(o[1]=d=>b(i.value))},{default:t(()=>o[2]||(o[2]=[h("update")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}}}),$=N(T,[["__scopeId","data-v-acd0743c"]]);export{$ as default};
